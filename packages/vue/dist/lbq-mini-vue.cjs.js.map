{"version":3,"file":"lbq-mini-vue.cjs.js","sources":["../../../../src/utils/index.ts","../../../../src/runtime/vnode.ts","../../../../src/runtime/patchProps.ts","../../../../src/runtime/render.ts","../../../../src/runtime/tests/index.ts"],"sourcesContent":["export const isObject = (target) => {\r\n  return typeof target === \"object\" && target !== null;\r\n};\r\nexport const hasChanged = (oldValue, value) => {\r\n  return value !== oldValue && !(Number.isNaN(oldValue) && Number.isNaN(value));\r\n};\r\nexport const isFunction = (value)=>{\r\n    return typeof value ===\"function\"\r\n}\r\nexport const isArray = (value)=>{\r\n   return  Array.isArray(value)\r\n}\r\nexport const isString = (value)=>{\r\n  return typeof value === 'string'\r\n}\r\n\r\nexport const isNumber = (value)=>{\r\n  return typeof value === 'number'\r\n}\r\nexport const isBoolean = (value)=>{\r\n  return typeof value === 'boolean'\r\n}\r\n","/*\r\n * @Author: Liboq 99778162+Liboq@users.noreply.github.com\r\n * @Date: 2023-03-20 09:57:02\r\n * @LastEditors: Liboq 99778162+Liboq@users.noreply.github.com\r\n * @LastEditTime: 2023-03-21 17:32:53\r\n */\r\nimport { isString, isNumber, isArray } from \"../utils/index\";\r\nexport const ShapeFlags = {\r\n  ELEMENT: 1,\r\n  TEXT: 1 << 1,\r\n  FRAGMENT: 1 << 2,\r\n  COMPONENT: 1 << 3,\r\n  TEXT_CHILDREN: 1 << 4,\r\n  ARRAY_CHILDREN: 1 << 5,\r\n  CHILDREN: (1 << 4) | (1 << 5),\r\n};\r\nexport const Text = Symbol(\"Text\");\r\nexport const Fragment = Symbol(\"Fragment\");\r\n\r\n/**\r\n * @description:\r\n * @param {String | Object | Text | Fragement } type\r\n * @param {Object | null} props\r\n * @param {String | Array | Object | null} children\r\n * @return vnode\r\n */\r\nexport const h = (type, props, children) => {\r\n  let shapeFlag = 0;\r\n  if (isString(type)) {\r\n    shapeFlag = ShapeFlags.ELEMENT;\r\n  } else if (type === Text) {\r\n    shapeFlag = ShapeFlags.TEXT;\r\n  } else if (type === Fragment) {\r\n    shapeFlag = ShapeFlags.FRAGMENT;\r\n  } else {\r\n    shapeFlag = ShapeFlags.COMPONENT;\r\n  }\r\n  if (isString(children) || isNumber(children)) {\r\n    shapeFlag |= ShapeFlags.TEXT_CHILDREN;\r\n    children = children.toString();\r\n  } else if (isArray(children)) {\r\n    shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\r\n  }\r\n  return {\r\n    type,\r\n    props,\r\n    children,\r\n    shapeFlag,\r\n    el:null,\r\n    anchor:null\r\n  };\r\n};\r\n","import { isBoolean } from \"../utils/index\";\r\nconst domPropsRE = /[A-Z]|^(next|checked|selected|muted|disabled)$/;\r\nexport const patchProps = (oldProps, newProps, el) => {\r\n    if (oldProps === newProps) {\r\n      return;\r\n    }\r\n    for (const key in newProps) {\r\n      const next = newProps[key];\r\n      const prev = oldProps[key];\r\n      if (next !== prev) {\r\n        patchDomProp(prev, next, key, el);\r\n      } \r\n    }\r\n    oldProps = oldProps || {}\r\n    newProps = newProps || {}\r\n    for(const key in oldProps){\r\n      const next = newProps[key];\r\n      const prev = oldProps[key];\r\n      if (next  == null) {\r\n        patchDomProp(prev, null, key, el);\r\n      } \r\n    }\r\n  };\r\n  // 属性比较\r\n  export const patchDomProp = (prev, next, key, el) => {\r\n    switch (key) {\r\n      case \"class\":\r\n        el.className = next || \"\";\r\n        break;\r\n      case \"style\":\r\n        if(next == null){\r\n          el.removeAttribute(\"style\")\r\n        }\r\n        for (const styleName in next) {\r\n          el.style[styleName] = next[styleName];\r\n        }\r\n        if (prev) {\r\n          for (const styleName in prev) {\r\n            if (next[styleName] == null) {\r\n              el.style[styleName] = \"\";\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        if (/^on[^a-z]/.test(key)) {\r\n          const eventName = key.slice(2).toLowerCase();\r\n          if (prev) {\r\n            el.removeEventListener(eventName, prev);\r\n          }\r\n          if (next) {\r\n            el.addEventListener(eventName, next);\r\n          }\r\n        } else if (domPropsRE.test(key)) {\r\n          if (next === \"\" && isBoolean(el[key])) {\r\n            next = true;\r\n          }\r\n          el[key] = next;\r\n        } else {\r\n          if (next == null || next === false) {\r\n            el.removeAttribute(key);\r\n          } else {\r\n            el.setAttribute(key, next);\r\n          }\r\n        }\r\n        break;\r\n    }\r\n  };","import { isBoolean } from \"../utils/index\";\r\nimport { patchProps } from \"./patchProps\";\r\nimport { ShapeFlags } from \"./vnode\";\r\nexport const render = (vnode, container) => {\r\n  const prevVNode = container._vnode;\r\n  if (!vnode) {\r\n    if (prevVNode) {\r\n      unmount(prevVNode);\r\n    }\r\n  } else {\r\n    patch(prevVNode, vnode, container,null);\r\n  }\r\n  container._vnode = vnode\r\n};\r\nexport const unmount = (vnode) => {\r\n  const { shapeFlag, el } = vnode;\r\n  if (shapeFlag & ShapeFlags.COMPONENT) {\r\n    unmountComponent(vnode);\r\n  } else if (shapeFlag & ShapeFlags.FRAGMENT) {\r\n    unmountFragment(vnode);\r\n  } else {\r\n    console.dir(el);\r\n    console.log(vnode);\r\n    \r\n    console.dir(el.parentNode);\r\n    \r\n    el.parentNode.removeChild(el);\r\n  }\r\n};\r\nexport const patch = (n1, n2, container,anchor) => {\r\n  if (n1 && !isSameNode(n1, n2)) {\r\n    anchor = (n1.anchor||n1.el).nextSibling\r\n    unmount(n1);\r\n    n1 = null;\r\n  }\r\n  const { shapeFlag } = n2;\r\n  if (shapeFlag & ShapeFlags.COMPONENT) {\r\n    processComponent(n1, n2, container,anchor);\r\n  } else if (shapeFlag & ShapeFlags.TEXT) {\r\n    processText(n1, n2, container,anchor);\r\n  } else if (shapeFlag & ShapeFlags.FRAGMENT) {\r\n    processFragment(n1, n2, container,anchor);\r\n  } else {\r\n    processElement(n1, n2, container,anchor);\r\n  }\r\n};\r\n\r\nexport const processComponent = (n1, n2, container,anchor) => {};\r\n\r\nexport const unmountComponent = (vnode) => {\r\n\r\n};\r\n\r\nexport const processFragment = (n1, n2, container,anchor) => {\r\n  const fragmentStartAnchor = n1?n1.el:document.createTextNode('')\r\n  const fragmentEndAnchor = n2.anchor?n2.anchor:document.createTextNode('')\r\n  if (n1) {\r\n    patchChildren(n1,n2,container,anchor)\r\n  } else {\r\n    container.insertBefore(fragmentStartAnchor,anchor)\r\n    container.insertBefore(fragmentEndAnchor,anchor)\r\n    mountChildren(n2.children, container,fragmentEndAnchor);\r\n  }\r\n};\r\nexport const unmountFragment = (vnode) => {\r\n  let {el:cur,anchor:end} = vnode\r\n  const {prarentNode} = cur\r\n  while(cur!==end){\r\n    const next = cur.nextSibling\r\n    prarentNode.removeChild(cur)\r\n    cur = next\r\n  }\r\n};\r\nexport const processText = (n1, n2, container,anchor) => {\r\n  if (n1) {\r\n    n2.el = n1.el;\r\n    n1.el.textContent = n2.children;\r\n  } else {\r\n    mountTextNode(n2, container,anchor);\r\n  }\r\n};\r\nexport const processElement = (n1, n2, container,anchor) => {\r\n  if (n1) {\r\n    patchElement(n1, n2,anchor);\r\n  } else {\r\n    mountElement(n2, container,anchor);\r\n  }\r\n};\r\nexport const patchElement = (n1, n2,anchor) => {\r\n  n2.el = n1.el;\r\n  patchProps(n1.props, n2.props, n2.el);\r\n  patchChildren(n1, n2, n2.el,anchor);\r\n};\r\nexport const unmountChildren = (children)=>{\r\n  children.forEach(child=>{\r\n    unmount(child)\r\n  })\r\n}\r\nexport const pathchArrayChildren = (c1,c2,container,anchor)=>{\r\n  const oldLength = c1.length\r\n  const newLength = c2.length \r\n  const commonLength = Math.min(oldLength,newLength)\r\n  for(let i =0;i< commonLength;i++){\r\n    patch(c1[i],c2[i],container,anchor)\r\n  } \r\n  if(oldLength>newLength){\r\n    unmountChildren(c1.slice(commonLength))\r\n  }\r\n  if(oldLength<newLength){\r\n    unmountChildren(c2.slice(commonLength))\r\n  }\r\n}\r\nexport const patchChildren = (n1, n2, container,anchor) => {\r\n  \r\n  const {shapeFlag:shapeFlagPrev,children:c1} = n1\r\n  const {shapeFlag,children:c2} = n2\r\n  if(shapeFlag & ShapeFlags.TEXT_CHILDREN){\r\n    if(shapeFlagPrev & ShapeFlags.ARRAY_CHILDREN){\r\n      unmountChildren(c1)\r\n    }\r\n    if(c1!==c2){\r\n    container.textContent =  c2\r\n    }\r\n  }else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){\r\n    if(shapeFlagPrev & ShapeFlags.TEXT_CHILDREN){\r\n      container.textContent =  ''\r\n      mountChildren(c2,container,anchor)\r\n    }else if(shapeFlagPrev & ShapeFlags.ARRAY_CHILDREN){\r\n      pathchArrayChildren(c1,c2,container,anchor)\r\n    }else{\r\n      mountChildren(c2,container,anchor)\r\n    }\r\n  }else{\r\n    if(shapeFlagPrev & ShapeFlags.TEXT_CHILDREN){\r\n      container.textContent =  ''\r\n    }else if(shapeFlagPrev & ShapeFlags.ARRAY_CHILDREN){\r\n      unmountChildren(c1)\r\n    }\r\n  }\r\n};\r\nexport const isSameNode = (n1, n2) => {\r\n  return n1.type === n2.type;\r\n};\r\nexport const mountTextNode = (vnode, container,anchor) => {\r\n  const textNode = document.createTextNode(vnode.children);\r\n  // container.appendChild(textNode);\r\n  container.insertBefore(textNode,anchor)\r\n  vnode.el = textNode\r\n};\r\nexport const mountFragment = (vnode, container,anchor) => {\r\n  mountChildren(vnode, container,anchor);\r\n};\r\nexport const mountChildren = (children, container,anchor) => {\r\n  children.forEach((child) => {\r\n    patch(null, child, container,anchor);\r\n  });\r\n};\r\nexport const mountElement = (vnode, container,anchor) => {\r\n  const { shapeFlag, props, type, children } = vnode;\r\n  const el = document.createElement(type);\r\n  mountProps(props, el);\r\n  if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n    mountTextNode(vnode, el,anchor);\r\n  } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n    mountChildren(children, el,anchor);\r\n  }\r\n  // if (props) {\r\n  //   patchProps(null, props, el);\r\n  // }\r\n  // container.appendChild(el);\r\n  container.insertBefore(el,anchor)\r\n  vnode.el = el\r\n};\r\nconst domPropsRE = /[A-Z]|^(next|checked|selected|muted|disabled)$/;\r\n\r\nexport const mountProps = (props, el) => {\r\n  for (const key in props) {\r\n    let next = props[key];\r\n    switch (key) {\r\n      case \"class\":\r\n        el.className = next;\r\n        break;\r\n      case \"style\":\r\n        for (const styleName in next) {\r\n          el.style[styleName] = next[styleName];\r\n        }\r\n        break;\r\n      default:\r\n        if (/^on[^a-z]/.test(key)) {\r\n          const eventName = key.slice(2).toLowerCase();\r\n          el.addEventListener(eventName, next);\r\n        } else if (domPropsRE.test(key)) {\r\n          if (next === \"\" && isBoolean(el[key])) {\r\n            next = true;\r\n          }\r\n          el[key] = next;\r\n        } else {\r\n          if (next == null || next === false) {\r\n            el.removeAttribute(key);\r\n          } else {\r\n            el.setAttribute(key, next);\r\n          }\r\n        }\r\n        break;\r\n    }\r\n  }\r\n};\r\n","import { h, render } from \"../../runtime/index\";\r\nimport { Fragment } from '../vnode';\r\n\r\nconst vnode = \r\n        h(\"ul\", null, [\r\n          h(\"li\", { style: { color: \"red\" } }, 1),\r\n          h(\"li\", null, 2),\r\n          h(\"li\", { style: { color: \"blue\" } }, 3),\r\n          h(Fragment, null, [h(\"li\", null, null)]),\r\n          h(\"li\", { style: { color: \"red\" } }, 1),\r\n        ])\r\n    ;\r\nrender(vnode, document.body);\r\nsetTimeout(() => {\r\n  render(\r\n        h(\"ul\", null, [\r\n          h(\"li\", { style: { color: \"green\" } }, 5),\r\n          h(\"li\", null, 8),\r\n          h(\"li\", { style: { color: \"red\" } }, 6),\r\n          h(Fragment, null, [h(\"li\", null, \"middle\")]),\r\n          h(\"li\", { style: { color: \"blue\" } }, 7),\r\n        ]),\r\n    document.body\r\n  );\r\n},2000);\r\n"],"names":["domPropsRE"],"mappings":"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"}