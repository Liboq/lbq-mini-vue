{"version":3,"file":"lbq-mini-vue.cjs.js","sources":["../../../../src/utils/index.ts","../../../../src/runtime/vnode.ts","../../../../src/runtime/patchProps.ts","../../../../src/reactivity/effect.ts","../../../../src/runtime/schedule.ts","../../../../src/reactivity/reactive.ts","../../../../src/runtime/component.ts","../../../../src/runtime/render.ts","../../../../src/runtime/tests/index.ts"],"sourcesContent":["export const isObject = (target) => {\r\n  return typeof target === \"object\" && target !== null;\r\n};\r\nexport const hasChanged = (oldValue, value) => {\r\n  return value !== oldValue && !(Number.isNaN(oldValue) && Number.isNaN(value));\r\n};\r\nexport const isFunction = (value)=>{\r\n    return typeof value ===\"function\"\r\n}\r\nexport const isArray = (value)=>{\r\n   return  Array.isArray(value)\r\n}\r\nexport const isString = (value)=>{\r\n  return typeof value === 'string'\r\n}\r\n\r\nexport const isNumber = (value)=>{\r\n  return typeof value === 'number'\r\n}\r\nexport const isBoolean = (value)=>{\r\n  return typeof value === 'boolean'\r\n}\r\n","/*\r\n * @Author: Liboq 99778162+Liboq@users.noreply.github.com\r\n * @Date: 2023-03-20 09:57:02\r\n * @LastEditors: Liboq 99778162+Liboq@users.noreply.github.com\r\n * @LastEditTime: 2023-03-21 17:32:53\r\n */\r\nimport { isString, isNumber, isArray, isObject } from '../utils/index';\r\nexport const ShapeFlags = {\r\n  ELEMENT: 1,\r\n  TEXT: 1 << 1,\r\n  FRAGMENT: 1 << 2,\r\n  COMPONENT: 1 << 3,\r\n  TEXT_CHILDREN: 1 << 4,\r\n  ARRAY_CHILDREN: 1 << 5,\r\n  CHILDREN: (1 << 4) | (1 << 5),\r\n};\r\nexport const Text = Symbol(\"Text\");\r\nexport const Fragment = Symbol(\"Fragment\");\r\n\r\n/**\r\n * @description:\r\n * @param {String | Object | Text | Fragement } type\r\n * @param {Object | null} props\r\n * @param {String | Array | Object | null} children\r\n * @return vnode\r\n */\r\nexport const h = (type, props, children) => {\r\n  let shapeFlag = 0;\r\n  if (isString(type)) {\r\n    shapeFlag = ShapeFlags.ELEMENT;\r\n  } else if (type === Text) {\r\n    shapeFlag = ShapeFlags.TEXT;\r\n  } else if (type === Fragment) {\r\n    shapeFlag = ShapeFlags.FRAGMENT;\r\n  } else {\r\n    shapeFlag = ShapeFlags.COMPONENT;\r\n  }\r\n  if (isString(children) || isNumber(children)) {\r\n    shapeFlag |= ShapeFlags.TEXT_CHILDREN;\r\n    children = children.toString();\r\n  } else if (isArray(children)) {\r\n    shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\r\n  }\r\n  return {\r\n    type,\r\n    props,\r\n    children,\r\n    shapeFlag,\r\n    el:null,\r\n    anchor:null,\r\n    key: props && props.key\r\n  };\r\n};\r\nexport function normalizeVNode(result) {\r\n  if (isArray(result)) {\r\n    return h(Fragment, null, result);\r\n  }\r\n  if (isObject(result)) {\r\n    return result;\r\n  }\r\n  // string, number\r\n  return h(Text, null, result.toString());\r\n}","import { isBoolean } from \"../utils/index\";\r\nconst domPropsRE = /[A-Z]|^(next|checked|selected|muted|disabled)$/;\r\nexport const patchProps = (oldProps, newProps, el) => {\r\n    if (oldProps === newProps) {\r\n      return;\r\n    }\r\n    for (const key in newProps) {\r\n      if(key === 'key'){\r\n        continue\r\n      }\r\n      const next = newProps[key];\r\n      const prev = oldProps[key];\r\n      if (next !== prev) {\r\n        patchDomProp(prev, next, key, el);\r\n      } \r\n    }\r\n    oldProps = oldProps || {}\r\n    newProps = newProps || {}\r\n    for(const key in oldProps){\r\n      const next = newProps[key];\r\n      const prev = oldProps[key];\r\n      if (key !== 'key'&&next  == null) {\r\n        patchDomProp(prev, null, key, el);\r\n      } \r\n    }\r\n  };\r\n  // 属性比较\r\n  export const patchDomProp = (prev, next, key, el) => {\r\n    switch (key) {\r\n      case \"class\":\r\n        el.className = next || \"\";\r\n        break;\r\n      case \"style\":\r\n        if(next == null){\r\n          el.removeAttribute(\"style\")\r\n        }\r\n        for (const styleName in next) {\r\n          el.style[styleName] = next[styleName];\r\n        }\r\n        if (prev) {\r\n          for (const styleName in prev) {\r\n            if (next[styleName] == null) {\r\n              el.style[styleName] = \"\";\r\n            }\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        if (/^on[^a-z]/.test(key)) {\r\n          const eventName = key.slice(2).toLowerCase();\r\n          if (prev) {\r\n            el.removeEventListener(eventName, prev);\r\n          }\r\n          if (next) {\r\n            el.addEventListener(eventName, next);\r\n          }\r\n        } else if (domPropsRE.test(key)) {\r\n          if (next === \"\" && isBoolean(el[key])) {\r\n            next = true;\r\n          }\r\n          el[key] = next;\r\n        } else {\r\n          if (next == null || next === false) {\r\n            el.removeAttribute(key);\r\n          } else {\r\n            el.setAttribute(key, next);\r\n          }\r\n        }\r\n        break;\r\n    }\r\n  };","const effectStack: any = [];\r\nlet activeEffect;\r\n/* \r\n相当于watch 监听 函数中元素是否为reactive 如果为reactive  元素变动则引起函数执行\r\n*/\r\nexport const effect = (fn, options: any = {}) => {\r\n  const effectFn = () => {\r\n    try {\r\n      activeEffect = effectFn;\r\n      effectStack.push(activeEffect);\r\n      return fn();\r\n    } finally {\r\n      effectStack.pop()\r\n      activeEffect = effectStack[effectStack.length-1]\r\n    }\r\n  };\r\n  if (!options.lazy) {\r\n    effectFn();\r\n  }\r\n  effectFn.scheduler = options.scheduler;\r\n  return effectFn;\r\n};\r\n/* \r\n当target里的值被引用时存储 activeEffect，监听它\r\n */\r\nconst targetMap = new WeakMap();\r\nexport const track = (target, key) => {\r\n  if (!activeEffect) {\r\n    return;\r\n  }\r\n  let depsMap = targetMap.get(target);\r\n  if (!depsMap) {\r\n    targetMap.set(target, (depsMap = new Map()));\r\n  }\r\n  let deps = depsMap.get(key);\r\n  if (!deps) {\r\n    depsMap.set(key, (deps = new Set()));\r\n  }\r\n  deps.add(activeEffect);\r\n};\r\nexport const trigger = (target, key) => {\r\n  const depsMap = targetMap.get(target);\r\n  if (!depsMap) {\r\n    return;\r\n  }\r\n  const deps = depsMap.get(key);\r\n  if (!deps) {\r\n    return;\r\n  }\r\n  deps.forEach((effectFn) => {\r\n    if (effectFn.scheduler) {\r\n      effectFn.scheduler();\r\n    } else {\r\n      effectFn();\r\n    }\r\n  });\r\n};\r\n","const queue :any = []\r\nlet isFlushing = false\r\nconst resolvePromise = Promise.resolve()\r\nlet currentFlushPromise:any = null\r\nexport const queueJob = (job)=>{\r\n    if(!queue.length&& !queue.includes(job)){\r\n        queue.push(job)\r\n        queueFlush()\r\n    }\r\n}\r\nconst queueFlush = ()=>{\r\n    if(!isFlushing){\r\n        isFlushing = true\r\n        currentFlushPromise = resolvePromise.then(flushJobs)\r\n    }\r\n}\r\nconst flushJobs = ()=>{\r\n    try {\r\n        for(let i = 0;i<queue.length;i++){\r\n            const job = queue[i]\r\n            job()\r\n        }\r\n    } catch (error) {\r\n        isFlushing = false\r\n        queue.lengh = 0\r\n        currentFlushPromise = null\r\n    }\r\n}\r\nexport const nextTick = (fn)=>{\r\n    const p = currentFlushPromise || resolvePromise;\r\n    return fn ? p.then(): p\r\n}","/*\r\n * @Author: Liboq 99778162+Liboq@users.noreply.github.com\r\n * @Date: 2023-03-16 09:43:51\r\n * @LastEditors: Liboq 99778162+Liboq@users.noreply.github.com\r\n * @LastEditTime: 2023-03-20 16:28:40\r\n * @FilePath: \\pikachu-mini-vue\\src\\reactivity\\reactive.ts\r\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\r\nimport { hasChanged, isArray, isObject } from \"../utils/index\";\r\nimport { track, trigger } from \"./effect\";\r\n\r\nconst proxyMap = new WeakMap();\r\n/* \r\n通过 proxy 监听 对象的存取\r\n*/ \r\nexport const reactive = (target) => {\r\n  if (!isObject(target)) {\r\n    return;\r\n  }\r\n  if (isReactive(target)) {\r\n    return target;\r\n  }\r\n  if (proxyMap.has(target)) {\r\n    return proxyMap.get(target);\r\n  }\r\n  const proxy = new Proxy(target, {\r\n    get(target, key, recevier) {\r\n      if (key === \"__isReactive\") {\r\n        return true;\r\n      }\r\n      const res = Reflect.get(target, key, recevier);\r\n      track(target, key);\r\n      return isObject(res) ? reactive(res) : res;\r\n    },\r\n    set(target, key, value, receiver) {\r\n      let oldLength = target.length;\r\n      let oldValue = target[key];\r\n      const res = Reflect.set(target, key, value, receiver);\r\n      if (hasChanged(oldValue, value)) {\r\n        trigger(target, key);\r\n        if(isArray(target)&&hasChanged(oldLength,target.length)){\r\n            trigger(target,length)\r\n        }\r\n      }\r\n      return res;\r\n    },\r\n  });\r\n  proxyMap.set(target, proxy);\r\n  return proxy;\r\n};\r\n\r\n//   处理特例\r\nconst isReactive = (target) => {\r\n  return !!(target && target.__isReactive);\r\n};\r\n","import { effect } from \"../reactivity/effect\";\r\nimport { normalizeVNode } from \"./vnode\";\r\nimport { queueJob } from './schedule';\r\nimport { reactive } from '../reactivity/reactive';\r\nexport const mountComponent = (vnode, container, anchor, patch) => {\r\n  const { type: Component } = vnode;\r\n  const instance = (vnode.component = {\r\n    props: null || {},\r\n    attrs: null,\r\n    setupState: null || {},\r\n    ctx: null || {},\r\n    subTree: null,\r\n    isMounted: null ||false,\r\n    update: null || effect,\r\n    next: null,\r\n  });\r\n  updateProps(instance,vnode);\r\n  instance.setupState = Component.setup?.(instance.props, {\r\n    attrs: instance.attrs,\r\n  });\r\n  instance.ctx = {\r\n    ...instance.props,\r\n    ...instance.setupState,\r\n  };\r\n  if (!Component.render && Component.template) {\r\n    let { template } = Component;\r\n    if (template[0] === \"#\") {\r\n      const el = document.querySelector(template);\r\n      template = el ? el.innerHTML : \"\";\r\n\r\n    }\r\n    // 编译\r\n    // const code = compile(template)\r\n    // Component.render = new Function('ctx',code)\r\n    // console.log(Component.render);\r\n    \r\n  }\r\n  instance.update = effect(() => {\r\n    if (!instance.isMounted) {\r\n      // mount\r\n      const subTree = (instance.subTree = normalizeVNode(\r\n        Component.render(instance.ctx)\r\n      ));\r\n      fallThrough(instance,subTree)\r\n\r\n      patch(null,subTree,container,anchor)\r\n      vnode.el = subTree.el;\r\n      instance.isMounted = true\r\n    }else{\r\n        // update\r\n        if(instance.next){\r\n            vnode = instance.next\r\n            instance.next = null\r\n            updateProps(instance,vnode)\r\n            instance.ctx = {\r\n                ...instance.props,\r\n                ...instance.setupState\r\n            }\r\n        }\r\n        const prev = instance.subTree\r\n        const subTree = (instance.subTree = normalizeVNode(Component.reder(instance.ctx)))\r\n        fallThrough(prev,subTree)\r\n        patch(prev,subTree,container,anchor)\r\n        vnode.el = subTree.el\r\n\r\n    }\r\n  },{\r\n    scheduler:queueJob\r\n  });\r\n};\r\nexport const updateProps = (instance,vnode) => {\r\n    const { type:Component ,props:vnodeProps } = vnode\r\n    const props = (instance.props = {})\r\n    const attrs = (instance.attrs = {})\r\n    for(const key in vnodeProps){\r\n        if(Component.props?.includes(key)){\r\n            props[key] = vnodeProps[key]\r\n        }else{\r\n            attrs[key] = vnodeProps[key]\r\n        }\r\n    }\r\n    instance.props = reactive(instance.props)\r\n};\r\nexport const fallThrough = (instance, subTree) =>{\r\n    if(Object.keys(instance.attrs).length){\r\n        subTree.props = {\r\n            ...subTree.props,\r\n            ...instance.attrs\r\n        }\r\n    }\r\n}\r\n","import { isBoolean } from \"../utils/index\";\r\nimport { patchProps } from \"./patchProps\";\r\nimport { ShapeFlags } from \"./vnode\";\r\nimport { mountComponent } from './component';\r\nexport const render = (vnode, container) => {\r\n  const prevVNode = container._vnode;\r\n  if (!vnode) {\r\n    if (prevVNode) {\r\n      unmount(prevVNode);\r\n    }\r\n  } else {\r\n    patch(prevVNode, vnode, container, null);\r\n  }\r\n  container._vnode = vnode;\r\n};\r\nexport const unmount = (vnode) => {\r\n  const { shapeFlag, el } = vnode;\r\n  if (shapeFlag & ShapeFlags.COMPONENT) {\r\n    unmountComponent(vnode);\r\n  } else if (shapeFlag & ShapeFlags.FRAGMENT) {\r\n    unmountFragment(vnode);\r\n  } else {\r\n    el.parentNode.removeChild(el);\r\n  }\r\n};\r\nexport const patch = (n1, n2, container, anchor) => {\r\n  if (n1 && !isSameNode(n1, n2)) {\r\n    anchor = (n1.anchor || n1.el).nextSibling;\r\n    unmount(n1);\r\n    n1 = null;\r\n  }\r\n  const { shapeFlag } = n2;\r\n  if (shapeFlag & ShapeFlags.COMPONENT) {\r\n    processComponent(n1, n2, container, anchor);\r\n  } else if (shapeFlag & ShapeFlags.TEXT) {\r\n    processText(n1, n2, container, anchor);\r\n  } else if (shapeFlag & ShapeFlags.FRAGMENT) {\r\n    processFragment(n1, n2, container, anchor);\r\n  } else {\r\n    processElement(n1, n2, container, anchor);\r\n  }\r\n};\r\n\r\nexport const processComponent = (n1, n2, container, anchor) => {\r\n  if(n1){\r\n    updateComponent(n1,n2)\r\n  }else{\r\n    mountComponent(n2,container,anchor,patch)\r\n  }\r\n};\r\nconst  updateComponent = (n1, n2)=> {\r\n  n2.component = n1.component;\r\n  n2.component.next = n2;\r\n  n2.component.update();\r\n}\r\n\r\nexport const unmountComponent = (vnode) => {};\r\n\r\nexport const processFragment = (n1, n2, container, anchor) => {\r\n  const fragmentStartAnchor = n1 ? n1.el : document.createTextNode(\"\");\r\n  const fragmentEndAnchor = n2.anchor ? n2.anchor : document.createTextNode(\"\");\r\n  if (n1) {\r\n    patchChildren(n1, n2, container, anchor);\r\n  } else {\r\n    container.insertBefore(fragmentStartAnchor, anchor);\r\n    container.insertBefore(fragmentEndAnchor, anchor);\r\n    mountChildren(n2.children, container, fragmentEndAnchor);\r\n  }\r\n};\r\nexport const unmountFragment = (vnode) => {\r\n  let { el: cur, anchor: end } = vnode;\r\n  const { prarentNode } = cur;\r\n  while (cur !== end) {\r\n    const next = cur.nextSibling;\r\n    prarentNode.removeChild(cur);\r\n    cur = next;\r\n  }\r\n};\r\nexport const processText = (n1, n2, container, anchor) => {\r\n  if (n1) {\r\n    n2.el = n1.el;\r\n    n1.el.textContent = n2.children;\r\n  } else {\r\n    mountTextNode(n2, container, anchor);\r\n  }\r\n};\r\nexport const processElement = (n1, n2, container, anchor) => {\r\n  if (n1) {\r\n    patchElement(n1, n2, anchor);\r\n  } else {\r\n    mountElement(n2, container, anchor);\r\n  }\r\n};\r\nexport const patchElement = (n1, n2, anchor) => {\r\n  n2.el = n1.el;\r\n  patchProps(n1.props, n2.props, n2.el);\r\n  patchChildren(n1, n2, n2.el, anchor);\r\n};\r\nexport const unmountChildren = (children) => {\r\n  children.forEach((child) => {\r\n    unmount(child);\r\n  });\r\n};\r\n// react 的differ算法\r\nexport const pathchkeyedArrayChildren2 = (c1, c2, container, anchor) => {\r\n  const map = new Map();\r\n  c1.forEach((prev, j) => {\r\n    map.set(prev.key, { prev, j });\r\n  });\r\n  // maxNewIndexSoFar 如果从旧数组中找到的位置小于naxNewIndexSoFar,则判断它是上升趋势，不需要移动此元素位置 用来判断是否需要移动新的元素\r\n  let maxNewIndexSoFar = 0;\r\n  for (let i = 0; i < c2.lenght; i++) {\r\n    const next = c2[i];\r\n    const curAnchor = i === 0 ? c1[0].el : c2[i].el.nextSibling;\r\n    if (map.has(next.key)) {\r\n      const { prev, j } = map.get(next.key);\r\n      patch(prev, next, container, curAnchor);\r\n      if (j < maxNewIndexSoFar) {\r\n        // insertBefore 若第二个参数为null，则相当于appendChild\r\n        container.insertBefore(next.el, curAnchor);\r\n      } else {\r\n        maxNewIndexSoFar = j;\r\n      }\r\n      map.delete(next.key);\r\n    } else {\r\n      patch(null, next, container, curAnchor);\r\n    }\r\n  }\r\n  map.forEach(({ prev }) => {\r\n    unmount(prev);\r\n  });\r\n};\r\n// vue3 的diff算法\r\nexport const pathchkeyedArrayChildren = (c1, c2, container, anchor) => {\r\n  let i = 0;\r\n  let e1 = c1.length - 1;\r\n  let e2 = c2.length - 1;\r\n  while (i <= e1 && i <= e2 && c1[i].key === c2[i].key) {\r\n    patch(c1[i], c2[i], container, anchor);\r\n    i++;\r\n  }\r\n  while (i <= e1 && i <= e2 && c1[e1].key === c2[e2].key) {\r\n    patch(c1[i], c2[i], container, anchor);\r\n    i++;\r\n    e1--;\r\n    e2--;\r\n  }\r\n  if (i > e1) {\r\n    // 若是 c1，c2中旧节点对比完成，则只剩下c2中新节点，则剩下的全部mount\r\n    for (let j = i; j < e2; j++) {\r\n      const nextPos = e2 + 1;\r\n      const curAnchor = (c2[nextPos] && c2[nextPos].el) || anchor;\r\n      patch(null, c2[j], container, curAnchor);\r\n    }\r\n  } else if (i > e2) {\r\n    // 若是 c1，c2中旧节点对比完成，则只剩下c1中旧节点，则剩下的全部unMount\r\n    for (let j = i; j < e1; j++) {\r\n      unmount(e1[j]);\r\n    }\r\n  } else {\r\n    //  若都不满足前面的，则采取传统的differ算法，只是不真的对其进行移动和添加，而是将其删除和标记起来\r\n    const map = new Map();\r\n    for(let j =i;j<e1;j++){\r\n      const prev = c1[j]\r\n      map.set(prev.key,{prev,j})\r\n    }\r\n    // maxNewIndexSoFar 如果从旧数组中找到的位置小于naxNewIndexSoFar,则判断它是上升趋势，不需要移动此元素位置 用来判断是否需要移动新的元素\r\n    let maxNewIndexSoFar = 0;\r\n    let move = false;\r\n    let source = new Array(e2 - i + 1).fill(-1);\r\n    let toMounted: any = [];\r\n    for (let k = 0; k < source.length; k++) {\r\n      const next = c2[k+i];\r\n      if (map.has(next.key)) {\r\n        const { prev, j } = map.get(next.key);\r\n        patch(prev, next, container, anchor);\r\n        if (j < maxNewIndexSoFar) {\r\n          move = true;\r\n        } else {\r\n          maxNewIndexSoFar = j;\r\n        }\r\n        source[k] = j;\r\n        map.delete(next.key);\r\n      } else {\r\n        toMounted.push(k + i);\r\n      }\r\n    }\r\n    map.forEach(({ prev }) => {\r\n      unmount(prev);\r\n    });\r\n    if (move) {\r\n      // 获取最长递增子序列，-1表示新增\r\n      const seq = goodLengthOfLTS(source);\r\n      let j = seq.length - 1;\r\n      for (let k = source.length - 1; k > 0; k--) {\r\n        if (seq[j] === k) {\r\n          // 不用移动\r\n          j--;\r\n        } else {\r\n          const pos = k + i;\r\n          const nextPos = pos + 1;\r\n          const curAnchor = (c2[nextPos] && c2[nextPos].el) || anchor;\r\n          if (source[k] === -1) {\r\n            // mount\r\n            patch(null, c2[pos], container, curAnchor);\r\n          } else {\r\n            // 移动\r\n            container.insertBefore(c2[pos].el, curAnchor);\r\n          }\r\n        }\r\n      }\r\n    } else if (toMounted.length) {\r\n      // 不需要移动，但是存在需要更新的元素\r\n      // 例如\r\n      //  abc\r\n      //  axbyc\r\n      // source:[0,-1,1,-1,2]\r\n      // seq:[0,2,4]\r\n\r\n      for (let k = toMounted.length; k < 0; k--) {\r\n        const pos = toMounted[k];\r\n        const nextPos = pos + 1;\r\n        const curAnchor = (c2[nextPos] && c2[nextPos].el) || anchor;\r\n        patch(null, c2[pos], container, curAnchor);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// const nums = [5,6,1,3,8,9,4]\r\n// 复杂度过高 O(n^2)\r\nexport const lengthOfLTS = (nums) => {\r\n  const deps = new Array(nums.length).fill(1);\r\n  let max = 1;\r\n  for (let i = 0; i < nums.length; i++) {\r\n    for (let j = 0; j < i; j++) {\r\n      if (nums[i] > nums[j]) {\r\n        deps[i] = Math.max(deps[i], deps[j] + 1);\r\n      }\r\n    }\r\n    max = Math.max(max, deps[i]);\r\n  }\r\n  return max;\r\n};\r\n\r\n// 二分查找法\r\n// 这里用一个position 把 元素 放到某个位置 存起来 然后 和arr中数组进行比较 \r\n// 先计算出最长上升数组 [1,3,8,9]\r\n// 然后计算出最长上升数组对应上方source数组的下标数组为[2,3,4,5]\r\nexport const goodLengthOfLTS = (nums) => {\r\n  const arr = [nums[0]];\r\n  const position =[0]\r\n  for (let i = 1; i < nums.length; i++) {\r\n    if(nums[i] === -1){\r\n      continue\r\n    }\r\n    if (nums[i] > arr[arr.length - 1]) {\r\n      arr.push(nums[i]);\r\n      position.push(arr.length-1)\r\n    } else {\r\n      let l = 0;\r\n      let r = arr.length - 1;\r\n      while (l <= r) {\r\n        let mid = Math.floor((1 + r) / 2);\r\n        if (nums[i] > arr[mid]) {\r\n          l = mid + 1;\r\n        } else if (nums[i] < arr[mid]) {\r\n          r = mid - 1;\r\n        } else {\r\n          l = mid;\r\n          break;\r\n        }\r\n      }\r\n      arr[l] = nums[i];\r\n      position.push(l)\r\n    }\r\n  }\r\n  let cur = arr.length-1\r\n  for(let i = position.length-1;i>=0&&cur>=0;i--){\r\n    if(position[i] === cur){\r\n      arr[cur--] = i\r\n    }\r\n  }\r\n  return arr;\r\n};\r\n\r\nexport const pathchUnkeyedArrayChildren = (c1, c2, container, anchor) => {\r\n  const oldLength = c1.length;\r\n  const newLength = c2.length;\r\n  const commonLength = Math.min(oldLength, newLength);\r\n  for (let i = 0; i < commonLength; i++) {\r\n    patch(c1[i], c2[i], container, anchor);\r\n  }\r\n  if (oldLength > newLength) {\r\n    unmountChildren(c1.slice(commonLength));\r\n  }\r\n  if (oldLength < newLength) {\r\n    unmountChildren(c2.slice(commonLength));\r\n  }\r\n};\r\nexport const patchChildren = (n1, n2, container, anchor) => {\r\n  const { shapeFlag: shapeFlagPrev, children: c1 } = n1;\r\n  const { shapeFlag, children: c2 } = n2;\r\n  if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n    if (shapeFlagPrev & ShapeFlags.ARRAY_CHILDREN) {\r\n      unmountChildren(c1);\r\n    }\r\n    if (c1 !== c2) {\r\n      container.textContent = c2;\r\n    }\r\n  } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n    if (shapeFlagPrev & ShapeFlags.TEXT_CHILDREN) {\r\n      container.textContent = \"\";\r\n      mountChildren(c2, container, anchor);\r\n    } else if (shapeFlagPrev & ShapeFlags.ARRAY_CHILDREN) {\r\n      if (c1[0 && c1[0].key != null && c2[0] && c2[0].key != null]) {\r\n        pathchkeyedArrayChildren(c1, c2, container, anchor);\r\n      } else {\r\n        pathchUnkeyedArrayChildren(c1, c2, container, anchor);\r\n      }\r\n    } else {\r\n      mountChildren(c2, container, anchor);\r\n    }\r\n  } else {\r\n    if (shapeFlagPrev & ShapeFlags.TEXT_CHILDREN) {\r\n      container.textContent = \"\";\r\n    } else if (shapeFlagPrev & ShapeFlags.ARRAY_CHILDREN) {\r\n      unmountChildren(c1);\r\n    }\r\n  }\r\n};\r\nexport const isSameNode = (n1, n2) => {\r\n  return n1.type === n2.type;\r\n};\r\nexport const mountTextNode = (vnode, container, anchor) => {\r\n  const textNode = document.createTextNode(vnode.children);\r\n  // container.appendChild(textNode);\r\n  container.insertBefore(textNode, anchor);\r\n  vnode.el = textNode;\r\n};\r\nexport const mountFragment = (vnode, container, anchor) => {\r\n  mountChildren(vnode, container, anchor);\r\n};\r\nexport const mountChildren = (children, container, anchor) => {\r\n  children.forEach((child) => {\r\n    patch(null, child, container, anchor);\r\n  });\r\n};\r\nexport const mountElement = (vnode, container, anchor) => {\r\n  const { shapeFlag, props, type, children } = vnode;\r\n  const el = document.createElement(type);\r\n  mountProps(props, el);\r\n  if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n    mountTextNode(vnode, el, anchor);\r\n  } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n    mountChildren(children, el, anchor);\r\n  }\r\n  // if (props) {\r\n  //   patchProps(null, props, el);\r\n  // }\r\n  // container.appendChild(el);\r\n  container.insertBefore(el, anchor);\r\n  vnode.el = el;\r\n};\r\nconst domPropsRE = /[A-Z]|^(next|checked|selected|muted|disabled)$/;\r\n\r\nexport const mountProps = (props, el) => {\r\n  for (const key in props) {\r\n    let next = props[key];\r\n    switch (key) {\r\n      case \"class\":\r\n        el.className = next;\r\n        break;\r\n      case \"style\":\r\n        for (const styleName in next) {\r\n          el.style[styleName] = next[styleName];\r\n        }\r\n        break;\r\n      default:\r\n        if (/^on[^a-z]/.test(key)) {\r\n          const eventName = key.slice(2).toLowerCase();\r\n          el.addEventListener(eventName, next);\r\n        } else if (domPropsRE.test(key)) {\r\n          if (next === \"\" && isBoolean(el[key])) {\r\n            next = true;\r\n          }\r\n          el[key] = next;\r\n        } else {\r\n          if (next == null || next === false) {\r\n            el.removeAttribute(key);\r\n          } else {\r\n            el.setAttribute(key, next);\r\n          }\r\n        }\r\n        break;\r\n    }\r\n  }\r\n};\r\n","import { h, render } from \"../../runtime/index\";\r\nimport { Fragment } from '../vnode';\r\n\r\n// const vnode = \r\n//         h(\"ul\", null, [\r\n//           h(\"li\", { style: { color: \"red\" } }, 1),\r\n//           h(\"li\", null, 2),\r\n//           h(\"li\", { style: { color: \"blue\" } }, 3),\r\n//           h(Fragment, null, [h(\"li\", null, null)]),\r\n//           h(\"li\", { style: { color: \"red\" } }, 1),\r\n//         ])\r\n//     ;\r\n// render(vnode, document.body);\r\n// setTimeout(() => {\r\n//   render(\r\n//         h(\"ul\", null, [\r\n//           h(\"li\", { style: { color: \"green\" } }, 5),\r\n//           h(\"li\", null, 8),\r\n//           h(\"li\", { style: { color: \"red\" } }, 6),\r\n//           h(Fragment, null, [h(\"li\", null, \"middle\")]),\r\n//           h(\"li\", { style: { color: \"blue\" } }, 7),\r\n//         ]),\r\n//     document.body\r\n//   );\r\n// },2000);\r\nconst vnode1 =[\r\n  {\r\n    type: \"h1\",\r\n    props: null,\r\n    children: \"1\",\r\n    shapeFlag: 17,\r\n    el: {\r\n    },\r\n    anchor: null,\r\n    key: null,\r\n  },\r\n  {\r\n    type: \"h2\",\r\n    props: null,\r\n    children: \"1\",\r\n    shapeFlag: 17,\r\n    el: {\r\n    },\r\n    anchor: null,\r\n    key: null,\r\n  },\r\n  {\r\n    type: \"h3\",\r\n    props: null,\r\n    children: \"1\",\r\n    shapeFlag: 17,\r\n    el: {\r\n    },\r\n    anchor: null,\r\n    key: null,\r\n  },\r\n  {\r\n    type: \"h4\",\r\n    props: null,\r\n    children: \"1\",\r\n    shapeFlag: 17,\r\n    el: {\r\n    },\r\n    anchor: null,\r\n    key: null,\r\n  },\r\n  {\r\n    type: \"h5\",\r\n    props: null,\r\n    children: \"1\",\r\n    shapeFlag: 17,\r\n    el: {\r\n    },\r\n    anchor: null,\r\n    key: null,\r\n  },\r\n  {\r\n    type: \"h6\",\r\n    props: null,\r\n    children: \"1\",\r\n    shapeFlag: 17,\r\n    el: {\r\n    },\r\n    anchor: null,\r\n    key: null,\r\n  },\r\n]\r\nrender(h('div',null,vnode1),document.body)\r\n"],"names":["domPropsRE"],"mappings":"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"}